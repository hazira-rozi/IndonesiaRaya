:root{
  --pole-height: 68vh;
  --flag-width: 40vw;
  --flag-aspect: 3/2;
}

*{box-sizing:border-box}
body{
  margin:0;
  font-family: system-ui, sans-serif;
  background:#eef5ff;
  display:flex; flex-direction:column; min-height:100dvh;
}

header{ padding:10px 14px; text-align:center; background:#e7eeff; border-bottom:1px solid #d6e0ff; }
h1{ margin:0; font-size:1rem; }

.controls{
  display:flex; gap:8px; justify-content:center; align-items:center;
  padding:10px 14px; flex-wrap:wrap;
}
button{
  padding:10px 14px; border-radius:10px; border:1px solid #c6d3ff; background:#fff; cursor:pointer;
  font-weight:600;
}
button:disabled{opacity:.6; cursor:not-allowed;}
.time{ font-variant-numeric: tabular-nums; min-width:8ch; text-align:center; }

.field{
  position:relative; flex:1; display:flex; justify-content:center; align-items:flex-end;
  padding:18px; overflow:hidden;
  background:
    linear-gradient(#bfe6ff, #eaf6ff 60%) top/100% 70% no-repeat,
    linear-gradient(#b8e0b8, #8ecf8e) bottom/100% 30% no-repeat;
}

/* Tiang */
.pole{
  position:relative;
  height: var(--pole-height);
  width: 10px;
  background: linear-gradient(#cfd7ea, #aeb8d1);
  border-radius: 8px;
  box-shadow: 0 0 0 1px #9fb0d4 inset;
}
.pole::after{ /* knop bulat */
  content:"";
  position:absolute; top:-14px; left:50%; transform:translateX(-50%);
  width:18px; height:18px; border-radius:50%;
  background: radial-gradient(circle at 30% 30%, #fff, #b0bddb);
  box-shadow: 0 1px 2px rgba(0,0,0,.25);
}
.base{
  position:absolute; bottom:0; left:50%; transform:translateX(-50%);
  width:130px; height:16px; border-radius:10px;
  background:#8b8b8b; box-shadow: inset 0 2px 5px rgba(0,0,0,.35);
}
.rope{
  position:absolute; left:100%; top:0;
  width:2px; height:100%;
  background: repeating-linear-gradient(#b7c3dd 0 8px, #91a0c7 8px 16px);
  transform: translateX(12px);
  opacity:.8;
}

/* Bendera */
.flag{
  position:absolute; left:100%; top:0;
  width: min(var(--flag-width), 80vw);
  aspect-ratio: var(--flag-aspect);
  background: linear-gradient(#d80000 0 50%, #ffffff 50% 100%);
  border: 1.2px solid #9aa6c5;
  box-shadow: 0 6px 16px rgba(0,0,0,.2);
  transform: translate(16px, 0);
  transform-origin: left center;
}

@keyframes flutter {
  0%,100% { transform: translate(16px, var(--y,0)) skewX(0deg); }
  50% { transform: translate(16px, var(--y,0)) skewX(1.2deg); }
}
.fluttering .flag{
  animation: flutter 2.2s ease-in-out infinite;
}

footer{ text-align:center; padding:8px; color:#4b5563; font-size:.85rem; }
